<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undangan Pernikahan - Muhammad Arif & Yulia Azar</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Poppins:wght@300;400;500;600;700&family=Dancing+Script:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h2>Memuat Undangan...</h2>
            <p>Mohon tunggu sebentar</p>
        </div>
    </div>

    <!-- Floating Hearts -->
    <div class="floating-hearts" id="hearts"></div>

    <!-- Hero Section -->
    <div class="hero" id="hero">
        <div class="hero-content">
            <h3 class="wedding-subtitle">The Wedding Of</h3>
            <H1 class="wedding-title">Muhammad Arif & Yulia Azhar</H1>
            <h4 class="wedding-greeting">Assalāmu'alaikum warahmatullāhi wabarakātuh</h4>
            <h2 class="wedding-invitation">Kepada <span>Bpk/Ibu/Saudara/i</span></h2>
            <p class="wedding-description">Tanpa Mengurangi Rasa Hormat, Kami Mengundang Anda Untuk Berhadir Di Acara Pernikahan Kami</p>
            <button class="open-invitation sticky-button" onclick="openInvitation()">
                <i class="fas fa-heart"></i> Buka Undangan
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Couple Section -->
        <section class="section couple-section">
            <h2 class="section-title fade-in">Arif & Yuli</h2>
            <p class="section-subtitle fade-in">Mari berkenalan dengan kedua mempelai yang akan memulai perjalanan hidup
                baru</p>

            <div class="couple-container">
                <div class="couple-card fade-in">
                    <div class="couple-photo1">
                        <img src="img/couple.png" alt="Foto Arif"
                            style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
                    </div>
                    <h3 class="couple-name">Arif</h3>
                    <p class="couple-desc">Muhammad Arif</p>
                    <p class="couple-desc">Putra dari Keluarga<br>Putra dari Bapak Hamlet & Ibu Yusni Siagian</p>
                    <br>
                    <h3 class="couple-name">Yuli</h3>
                    <p class="couple-desc">Yuli Azhar</p>
                    <p class="couple-desc">Putri dari Keluarga<br>Putri dari Bapak ALM Azhar Jamali & Ibu Rina Wati</p>
                </div>
            </div>
        </section>

        <!-- Countdown Section -->
        <section class="section countdown-section">
            <h2 class="section-title fade-in" style="color: white;">Menghitung Hari</h2>
            <p class="section-subtitle fade-in" style="color: rgba(255,255,255,0.9);">Menuju hari bahagia kami <br> 09
                September 2025</p>

            <div class="countdown-container" id="countdown">
                <div class="countdown-item fade-in">
                    <span class="countdown-number" id="days">31</span>
                    <span class="countdown-label">Hari</span>
                </div>
                <div class="countdown-item fade-in">
                    <span class="countdown-number" id="hours">10</span>
                    <span class="countdown-label">Jam</span>
                </div>
                <div class="countdown-item fade-in">
                    <span class="countdown-number" id="minutes">30</span>
                    <span class="countdown-label">Menit</span>
                </div>
                <div class="countdown-item fade-in">
                    <span class="countdown-number" id="seconds">00</span>
                    <span class="countdown-label">Detik</span>
                </div>
            </div>
        </section>

        <!-- Event Section -->
        <section class="section event-section">
            <h2 class="section-title fade-in">Acara</h2>
            <p class="section-subtitle fade-in">Jadwal acara pernikahan kami yang penuh makna</p>

            <div class="event-grid">
                <div class="event-card fade-in">
                    <div class="event-icon">
                        <i class="fas fa-mosque"></i>
                    </div>
                    <h3 class="event-title">Akad Nikah</h3>
                    <div class="event-details">
                        <p><strong>Senin, 08 September 2025</strong></p>
                        <p>Pukul 10.00 WIB s.d Selesai</p>
                        <p>Sei Apung Dusun III, Jl Ampera</p>
                        <p style="margin-top: 15px; font-size: 0.9rem; opacity: 0.8;">
                            <i class="fas fa-map-marker-alt"></i>
                            <a href="#" onclick="openLocation()"
                                style="color: var(--primary-color); text-decoration: none;">
                                Lihat Lokasi
                            </a>
                        </p>
                    </div>
                </div>

                <div class="event-card fade-in">
                    <div class="event-icon">
                        <i class="fas fa-glass-cheers"></i>
                    </div>
                    <h3 class="event-title">Resepsi Nikah</h3>
                    <div class="event-details">
                        <p><strong>Selasa, 09 September 2025</strong></p>
                        <p>Pukul 12.00 WIB s.d Selesai</p>
                        <p>Sei Apung Dusun III, Jl Ampera</p>
                        <p style="margin-top: 15px; font-size: 0.9rem; opacity: 0.8;">
                            <i class="fas fa-map-marker-alt"></i>
                            <a href="#" onclick="openLocation()"
                                style="color: var(--primary-color); text-decoration: none;">
                                Lihat Lokasi
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Gift Section -->
        <section class="section gift-section">
            <h2 class="section-title fade-in">Amplop Digital</h2>
            <p class="section-subtitle fade-in">Kehadiran Anda merupakan doa, namun jika memberi adalah bentuk cinta
                kasih</p>

            <div class="gift-container">
                <div class="gift-card fade-in">
                    <div class="bank-logo">
                        <i class="fas fa-university"></i>
                    </div>
                    <h3 class="bank-name">BRI</h3>
                    <div class="account-number" onclick="copyToClipboard('353601024592358')">
                        353601024592358
                    </div>
                    <p class="account-holder">a.n Yulia Azhar</p>
                </div>

                <div class="gift-card fade-in">
                    <div class="bank-logo">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <h3 class="bank-name">DANA</h3>
                    <div class="account-number" onclick="copyToClipboard('085265347217')">
                        083871718610
                    </div>
                    <p class="account-holder">a.n Yulia Azhar </p>
                </div>
            </div>
        </section>

        <!-- Wishes Section -->
        <section class="section wishes-section">
            <h2 class="section-title fade-in">Ucapan & Doa</h2>
            <p class="section-subtitle fade-in">Tinggalkan doa terbaik Anda untuk momen bahagia kami</p>

            <div>
                <div id="disqus_thread"></div>
                <script>
                    /**
                    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
                    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
                    /*
                    var disqus_config = function () {
                    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
                    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                    };
                    /*
                    var disqus_config = function () {
                    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
                    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                    };
                    */
                    (function () { // DON'T EDIT BELOW THIS LINE
                        var d = document, s = d.createElement('script');
                        s.src = 'https://the-wedding-of-muhammad-arif.disqus.com/embed.js';
                        s.setAttribute('data-timestamp', +new Date());
                        (d.head || d.body).appendChild(s);
                    })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments
                        powered by Disqus.</a></noscript>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <h3>Arif & Yuli</h3>
            <p>Selasa, 09 September 2025</p>
            <p style="margin-top: 20px;">Terima kasih atas kehadiran dan doa restu Anda</p>
            <p style="margin-top: 10px; font-size: 0.9rem; opacity: 0.6;">
                Dibuat dengan ❤️ untuk momen spesial kami
            </p>
        </footer>
    </div>

    <div id="audio-container">
        <audio id="song" preload="auto">
          <source src="audio/Wedding Nasheed.mp3" type="audio/mp3">
          Your browser does not support the audio element.
        </audio>
        <div class="audio-icon-wrapper" onclick="toggleAudio()" style="cursor: pointer;" title="Klik untuk memulai musik">
          <i class="bi bi-play-circle" id="audio-icon"></i>
        </div>
       
    <script>
        // Loading Screen
        window.addEventListener('load', function () {
            setTimeout(() => {
                document.getElementById('loadingScreen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('loadingScreen').style.display = 'none';
                }, 500);
            }, 2000);
        });

        // Countdown Timer with better logic
        function updateCountdown() {
            const weddingDate = new Date('September 09, 2025 10:00:00').getTime();
            const now = new Date().getTime();
            const distance = weddingDate - now;

            if (distance < 0) {
                // Wedding day has passed
                document.getElementById('days').textContent = '00';
                document.getElementById('hours').textContent = '00';
                document.getElementById('minutes').textContent = '00';
                document.getElementById('seconds').textContent = '00';
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Add leading zeros and smooth transitions
            document.getElementById('days').textContent = days.toString().padStart(2, '0');
            document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');

            // Add pulse effect when seconds change
            if (seconds === 0) {
                document.querySelectorAll('.countdown-item').forEach(item => {
                    item.style.transform = 'scale(1.1)';
                    setTimeout(() => {
                        item.style.transform = 'scale(1)';
                    }, 200);
                });
            }
        }

        setInterval(updateCountdown, 1000);
        updateCountdown();

        // Open Invitation with enhanced animation
        function openInvitation() {
            const hero = document.getElementById('hero');
            const mainContent = document.getElementById('mainContent');

            // Fade out hero
            hero.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
            hero.style.opacity = '0';
            hero.style.transform = 'scale(0.9)';

            setTimeout(() => {
                hero.style.display = 'none';
                mainContent.style.display = 'block';

                // Trigger scroll animations
                setTimeout(() => {
                    triggerScrollAnimations();
                }, 100);
            }, 800);
        }

        // Enhanced Copy to Clipboard
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                // Show success notification
                showNotification('Nomor rekening berhasil disalin!', 'success');
            }).catch(err => {
                console.error('Gagal menyalin: ', err);
                showNotification('Gagal menyalin nomor rekening', 'error');
            });
        }

        // Notification System
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 25px;
                border-radius: 10px;
                color: white;
                font-weight: 600;
                z-index: 10000;
                transform: translateX(100%);
                transition: transform 0.3s ease;
                background: ${type === 'success' ? 'linear-gradient(135deg, #10B981, #059669)' : 'linear-gradient(135deg, #EF4444, #DC2626)'};
                box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            `;
            notification.textContent = message;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);

            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Enhanced Floating Hearts Animation
        function createHeart() {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.innerHTML = '❤';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = Math.random() * 4 + 4 + 's';
            heart.style.fontSize = Math.random() * 25 + 15 + 'px';
            heart.style.opacity = Math.random() * 0.5 + 0.3;

            document.getElementById('hearts').appendChild(heart);

            setTimeout(() => {
                if (heart.parentNode) {
                    heart.remove();
                }
            }, 8000);
        }

        setInterval(createHeart, 400);

        // Scroll Animation System
        function triggerScrollAnimations() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });

            document.querySelectorAll('.fade-in').forEach(el => {
                observer.observe(el);
            });
        }



        // Location Handler
        function openLocation() {
            // In a real implementation, this would open Google Maps
            const address = 'Sei Apung Dusun III';
            const url ="https://maps.app.goo.gl/Ur9EFJkQNqCrsxqC9";
            window.open(url, '_blank');
        }


        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function () {
            // Add some interactive elements
            document.querySelectorAll('.couple-card').forEach(card => {
                card.addEventListener('mouseenter', function () {
                    this.style.transform = 'translateY(-15px) scale(1.02)';
                });

                card.addEventListener('mouseleave', function () {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });

            // Add keyboard navigation
            document.addEventListener('keydown', function (e) {
                if (e.key === 'Enter' && document.getElementById('hero').style.display !== 'none') {
                    openInvitation();
                }
            });
        });

        // Performance optimization: Throttle scroll events
        let ticking = false;
        function updateOnScroll() {
            if (!ticking) {
                requestAnimationFrame(() => {
                    // Any scroll-based animations can go here
                    ticking = false;
                });
                ticking = true;
            }
        }

        window.addEventListener('scroll', updateOnScroll);

        
    </script>

    <script>
        // Audio Control Script
        let isPlaying = false;
        const song = document.getElementById('song');
        const audioIcon = document.getElementById('audio-icon');
        const audioContainer = document.getElementById('audio-container');

        function toggleAudio() {
            if (isPlaying) {
                song.pause();
                audioIcon.className = 'fas fa-play-circle';
                isPlaying = false;
            } else {
                song.play().catch(error => {
                    console.log('Auto-play prevented:', error);
                });
                audioIcon.className = 'fas fa-pause-circle';
                isPlaying = true;
            }
        }

        // Enhanced auto-play with multiple attempts
        function attemptAutoPlay() {
            song.play().then(() => {
                audioIcon.className = 'fas fa-pause-circle';
                isPlaying = true;
                console.log('Audio auto-play successful');
            }).catch(error => {
                console.log('Auto-play prevented:', error);
                // Show tooltip to encourage user interaction
                const tooltip = document.querySelector('.audio-tooltip');
                if (tooltip) {
                    tooltip.style.display = 'block';
                    setTimeout(() => {
                        tooltip.style.display = 'none';
                    }, 3000);
                }
            });
        }

        // Auto-play music when page loads with multiple strategies
        window.addEventListener('load', function() {
            // Strategy 1: Try immediate play
            setTimeout(attemptAutoPlay, 500);
            
            // Strategy 2: Try again after loading screen
            setTimeout(attemptAutoPlay, 2500);
            
            // Strategy 3: Try on first user interaction
            document.addEventListener('click', function firstClick() {
                if (!isPlaying) {
                    attemptAutoPlay();
                }
                document.removeEventListener('click', firstClick);
            }, { once: true });
            
            // Strategy 4: Try on scroll
            document.addEventListener('scroll', function firstScroll() {
                if (!isPlaying) {
                    attemptAutoPlay();
                }
                document.removeEventListener('scroll', firstScroll);
            }, { once: true });
        });

        // Handle visibility change (when user switches tabs)
        document.addEventListener('visibilitychange', function() {
            if (document.hidden && isPlaying) {
                song.pause();
            } else if (!document.hidden && isPlaying) {
                song.play().catch(() => {});
            }
        });

        // Handle user gesture requirement for mobile
        document.addEventListener('touchstart', function firstTouch() {
            if (!isPlaying) {
                attemptAutoPlay();
            }
            document.removeEventListener('touchstart', firstTouch);
        }, { once: true });

    // URL parameter handling - Fixed and consolidated
    const urlParams = new URLSearchParams(window.location.search);
    const nama = urlParams.get('n') || '';
    const pronoun = urlParams.get('p') || 'Bapak/Ibu/Saudara/i';

    console.log('Nama:', nama);
    console.log('Pronoun:', pronoun);

    if (nama && pronoun) {
        const namaContainer = document.querySelector('.hero h2.wedding-invitation span');
        if (namaContainer) {
            const displayText = `${pronoun} ${nama}`;
            namaContainer.textContent = displayText;
        }
    }
    </script>
    
</body>

</html>
